<form autocomplete="off">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
 
    <style>
    body{
    background-color: black;
    }
    form {
    text-align: center;
    }
    input[type=submit] {
    background-color: #b57edc;
    width: 135px;
    }
    input[type="text"] {
    width: 300px;
    margin-top: 10px;
    }
    </style>
    <title>Enter an Amazon URL</title>
    <p align= "center"><img src="https://i.ibb.co/Cty5cNZ/sample.png"></p>
    <form id="form" onsubmit="return false;">
    <input type="text" id="userInput" value=''/>
    <input type="submit" value="Parse Away, Matey!" style="font-weight:bold" onclick="sadie();" />
    </form>
     
    <script>
    function sadie() {
    var input = document.getElementById("userInput").value;
    if (input.match(/https\:\/\/www.amazon/)) {
    socio()
    } else {
    alert("That's not an Amazon link, Matey!\nTry Again!");
    }
    
    }
    function socio() {
    var input = document.getElementById("userInput").value;
    alert("I've cleaned up your URL, Matey.\nIt was full of rubbish!");
    ayy();
    }
    function ayy() {
    var input = document.getElementById("userInput").value;
    str = input.split(" ").pop();
    var url = new URL(str);
    var result = (url.protocol + url.hostname + url.pathname);
    var new_str = result.split("ref")[0];
    alert(new_str);
    var input = document.createElement("input");
   input.value = new_str;
   document.body.appendChild(input);
   input.select();
   document.execCommand("copy");
   document.body.removeChild(input);
   
}

    </script>
